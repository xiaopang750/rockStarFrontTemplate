/** *description: 服务 *author:fanwei *date:2015/1/26 */module.exports = function(app, route, preRoute) {    var Class = app.get('Class');    var baseController = require('../../../../lib/shop/baseController')(app);    var Test = Class.create(baseController, {        initialize: function() {            this.events();        },        events: function() {            var _this = this;            //列表            app.all(route, function(req, res){                var param = _this.getParam(req);                var url = param.url;                var realParam = JSON.parse(param.param);                _this.request(req, res, url, realParam, function(data){                    var info = data.data ? JSON.parse(data.data) : data.data;                    data.data = info;                    _this.outJson({                        code: '001',                        msg: data.msg,                        data: data,                        res: res                    });                });            });        }    });    var oTest = new Test();};